<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Homework #3</title>

    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/bootstrap-theme.min.css" rel="stylesheet">

    <style type="text/css">
    body {
        padding-top: 50px;
        padding-bottom: 20px;
        padding-left: auto;
        padding-right: auto;
    }
    </style>

</head>
<body>
    <!-- create style for the axis lines, text, bars, hovers, and tooltip -->
    <style type="text/css">

        svg {
            margin-right: auto;
            margin-left: auto;
            margin-bottom: auto;
            margin-top: auto;
            display: block;
        }

        .axis path,
        .axis line {
            fill: none;
            stroke: #000;
            shape-rendering: crispEdges;
        }

        .area {
            fill: #386cb0;
        }

        .line {
          fill: none;
          stroke-width: 2px;
        }

        text {
            font-size: 10px;
        }

        .brush .extent {
            stroke: #fff;
            fill-opacity: .125;
            shape-rendering: crispEdges;
        }
        .tooltip {
            background: white;
            stroke: #fff;
            opacity: 0.15;
            position: absolute; 
            border-radius: 8px;            
            border: 0px;  
            width: auto;                  
            height: auto;                 
            padding: 2px;
            box-shadow: 0 0px 2px rgba(0, 0, 0, 0.5);    
        }
    </style>

<!-- Fixed Navbar -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle Navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://kmhoo.github.io/DataVisualization/">MSAN 622</a>
        </div>

        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li><a href="http://kmhoo.github.io/DataVisualization/#homework">Homework</a></li>
                <li><a href="http://kmhoo.github.io/DataVisualization/#project">Project</a></li>
                <li><a href="http://kmhoo.github.io/DataVisualization/#participation">Participation</a></li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://kmhoo.github.io/DataVisualization/#about">About</a></li>
                <li><a href="http://kmhoo.github.io/DataVisualization/#contact">Contact</a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</nav>

<div class="container">
    <div class="col-lg-12 text-center" id="chart">

        <div style="text-align:center;">
            <h1>Homework #3: Interactive Time Series Visualization</h1>
            <p> 
                You will create two interactive visualizations of the Seatbelts time series for this assignment.
                <br>
                Kailey Hoo: <a href="https://github.com/kmhoo/DataVisualization/blob/gh-pages/homework/homework3.html">Source Code </a>
            </p>
        </div>

        <!-- Import d3 -->
        <script src="../js/d3.min.js"></script>
        <script src="../js/colorbrewer.js"></script>
        <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
        

        <div class="col-lg-12 text-center" id="chartC"> 
            <h2>Multi-Series Line</h2>
            <!-- <p> Uncheck the below to remove from chart</p>
            <label><input type="checkbox", id='drivers'> Drivers</label>&nbsp;&nbsp;&nbsp;&nbsp;
            <label><input type="checkbox", id='front'> Front</label>&nbsp;&nbsp;&nbsp;&nbsp;
            <label><input type="checkbox", id='rear'> Rear</label> -->
            <script src="hw3/multi_series.js"></script>
        </div>

        <div class="col-lg-12 text-center" id="chartC2"> 
            <h2>Stacked Area Plot</h2>
            <script src="hw3/stacked_area.js"></script>
        </div>

        <!-- <div class="col-lg-12 text-center" id="chartC3"> 
            <h2>Area Plot</h2>
            <script src="hw3/area.js"></script>
        </div> -->

    </div>


    <div class="row">
        <div class="col-md-1">
        </div>

        <div class="col-md-5">
            <h2 class="page-header"><a name="preprocessing"></a>Data Preprocessing</h2>
            <p> Before starting my visualizations, I updated the dataset to make it easier to read in and manipulate. First I added back in the month and year with some basic for loops since the data was inaccessible. Then for the charts that I ultimately used, I filtered the dataset for just those columns before writing it out to a csv. <a href="https://github.com/kmhoo/DataVisualization/tree/gh-pages/homework/hw3/hw3.R">Here</a> is the code that I used to do this. </p>

            <h2 class="page-header"><a name="functionality"></a>Functionality</h2>

            <ul>
                <li>Basic</li>
                <ul>
                    <li>Multi-Series Line Plot</li>
                    <ul>
                        <li> Plotted three line charts with drivers killed or seriously injured, front passengers killed or seriously injured, and rear passengers killed or seriously injured </li>
                        <li> Made all three lines distinctly different colors </li>
                        <li> Added labels to the end to see which line is for which set of data </li>
                    </ul>
                    <li>Area Plot</li>
                    <ul>
                        <li> Plotted the distance driven vs. time as an area plot </li>
                        <li> This plot is not shown. You can find the source code for it <a href="https://github.com/kmhoo/DataVisualization/tree/gh-pages/homework/hw3/area.js">here</a>.</li>
                    </ul>
                    <li>Stacked Area Plot</li>
                    <ul>
                        <li> Plotted the area of all people killed or seriously injured and showed the breakdown of drivers, front passengers, and rear passengers </li>
                        <li> Created a legend to show which was which </li>
                    </ul>
                </ul>
                <li>Moderate</li>
                <ul>
                    <li>Details on Demand (tooltip)</li>
                    <ul>
                        <li> Added tooltips to both of the chart (Removed from stacked area once brushing was implemented) </li>
                        <li> Shows point when hovered over it </li>
                        <li> Shows number of deaths/injuries, month, and year </li>
                    </ul>
                    <li> Panning </li>
                    <ul>
                        <li> Added panning on the stacked area chart </li>
                        <li> Select the area of the amount of points to see, and can scroll back and forth </li>
                    </ul>
                </ul>
                <li>Advanced</li>
                <ul>
                    <li>Brushing</li>
                    <ul>
                        <li> Added brushing to the stacked area chart </li>
                        <li> Along with panning, can select the data you want to see and top chart adjusts accordingly </li>
                    </ul>
                    <li>Filtering</li>
                    <ul>
                        <li>Pending</li>
                    </ul>
                </ul>
            </ul>

        </div>

        <div class="col-md-5">
            <h2 class="page-header"><a name="interact"></a>How To Interact</h2>
            <ul>
                <li> For the Multi-line Chart:</li>
                <ul>
                    <li> Shows all three types of deaths/injuries </li>
                    <li> Hover over points to see exact number of deaths/injuries for each month and year </li>
                </ul>
                <li> For the Stacked Area Chart:</li>
                <ul>
                    <li> Shows the cumulative area of deaths/injuries</li>
                    <li> Use context chart (small one on the bottom) to filter the larger chart </li>
                    <ul>
                        <li> Select area that you want to see </li>
                        <li> Click and drag to see a different portion of the plot </li>
                        <li> Or drag ends to show more or less data </li>
                    </ul>
                </ul>

            </ul>
            <h2 class="page-header"><a name="explanation"></a>Explanation</h2>

            <ul>
                <li>
                    For the basic functionality, I originally chose to do a multi-series line chart and an area chart. I first implemented the multi-series line chart because I wanted to be able to see the different number of drivers, front passengers, and rear passengers getting killed or seriously injured. Then I did a simple area chart to understand how area charts works. I plotted the number of kms driven since it was a simple number. However, because this was not very interesting, I went back to the data I used for the multi-series line chart and created a stacked area plot. Lastly, I added a legend to this plot so that we knew which color represented which set of data (keeping the colors consistent between both charts).
                </li>
                <li>
                    For the moderate functionality, I chose to do details on demand and panning. I started with the details on demand and added them to both charts. First, I added points on the lines, with opacity zero. Then on the mouseover, I had them reappear with a pretty big radius so that we can see the circles when we hover. This was so the tooltip would be easy to tell which point we were looking at. On the tooltip, I included the number of deaths/injuries, the month, and the year. For the panning functionality, I added panning to the stacked bar chart. Because this didn't work well with the data points, I removed the tooltip from the stacked area chart to avoid confusion.
                </li>
                <li>
                    Lastly, for the advanced functionality, I added the brushing aspect to the stacked area chart. This enables us to look at specific parts of the plot and be able to zoom in on a year or specific time frame. 
            </ul>
        </div>

        <div class="col-md-1">
        </div>
    </div>

    <hr/>

    <footer>
        <p style="text-align: center;">Kailey Hoo &bullet; MSAN 622 Information Visualization &bullet; Spring 2015</p>
    </footer>

</div><!--/.container -->

<script src="../js/jquery.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/d3.min.js"></script>


</body>
</html>